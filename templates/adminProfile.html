{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeverForget | Admin Profile</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="{% static 'adminProfile.css' %}" />
    <link rel="stylesheet" href="{% static 'message.css' %}" />
  </head>
  <body>
    <div id="admin-data" data-username="{{ adminProfile.user }}"></div>

    <div class="scroll-progress" id="scroll-progress"></div>
    <div class="birthday-animation" id="particles"></div>

    <header>
      <nav class="container">
        <div class="logo">
          <i class="fas fa-birthday-cake"></i>
          NeverForget
        </div>
        <div class="nav-center">
          <span class="community-name">
            <i class="fas fa-crown"></i>
            Admin Dashboard
          </span>
        </div>
        <div class="nav-right">
          <button class="btn-icon" onclick="toggleNotifications()">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">5</span>
          </button>
          
          <div class="user-menu">
            <button
              class="btn-icon profile-toggle"
              onclick="toggleProfileMenu()"
            >
              <img
                src="{{adminProfile.adminImage.url}}"
                alt="Profile"
                class="profile-pic"
              />
            </button>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <!-- Profile Header Section -->
      <section class="profile-header-section">
        <div class="container">
          <div class="profile-header-card">
            <div class="profile-cover">
              <div class="profile-avatar-container">
                <div class="profile-avatar">
                  <img
                    src="{{adminProfile.adminImage.url}}"
                    alt="Admin Profile"
                    id="profileImage"
                  />
                   
                </div>
                <div class="admin-badge">
                  <i class="fas fa-crown"></i>
                  Admin
                </div>
              </div>
            </div>
            <div class="profile-info">
              <h1 class="profile-name" id="profileName">{{adminProfile.user}}</h1> 
              <p class="profile-email">{{adminProfile.email}}</p>
              <div class="profile-stats">
                <div class="stat-item">
                  <span class="stat-number">{{number_of_community_members}}</span>
                  <span class="stat-label">Members</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number">89</span>
                  <span class="stat-label">Birthdays</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number">2.5</span>
                  <span class="stat-label">Years Active</span>
                </div>
              </div>
              <div class="profile-actions">
                <button class="btn btn-primary" onclick="editProfile()">
                  <i class="fas fa-edit"></i>
                  Edit Profile
                </button>
                <button class="btn-icon" onclick="goHome()">
            <i class="fas fa-home"></i>
          </button>
                <button class="btn btn-secondary" onclick="shareProfile()">
                  <i class="fas fa-share"></i>
                  Share
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Admin Dashboard Cards -->
      <section class="dashboard-section">
        <div class="container">
          <div class="dashboard-grid">
            <!-- Community Overview -->
            <div class="dashboard-card">
              <div class="card-header">
                <h3><i class="fas fa-users"></i> Community Overview</h3>
                <button class="btn-icon-small" onclick="refreshCommunityData()">
                  <i class="fas fa-sync-alt"></i>
                </button>
              </div>
              <div class="card-content">
                <div class="overview-stats">
                  <div class="overview-item">
                    <div class="overview-icon">
                      <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="overview-info">
                      <h4>12</h4>
                      <p>New Members This Month</p>
                    </div>
                  </div>
                  <div class="overview-item">
                    <div class="overview-icon">
                      <i class="fas fa-birthday-cake"></i>
                    </div>
                    <div class="overview-info">
                      <h4>8</h4>
                      <p>Upcoming Birthdays</p>
                    </div>
                  </div>
                  <div class="overview-item">
                    <div class="overview-icon">
                      <i class="fas fa-heart"></i>
                    </div>
                    <div class="overview-info">
                      <h4>45</h4>
                      <p>Celebrations This Month</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Recent Activity -->
            <div class="dashboard-card">
              <div class="card-header">
                <h3><i class="fas fa-clock"></i> Recent Activity</h3>
                <button class="btn-link" onclick="viewAllActivity()">
                  View All
                </button>
              </div>
              <div class="card-content">
                <div class="activity-list">
                  <div class="activity-item">
                    <div class="activity-icon">
                      <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="activity-info">
                      <p><strong>Sarah Johnson</strong> joined the community</p>
                      <span class="activity-time">2 hours ago</span>
                    </div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-icon">
                      <i class="fas fa-birthday-cake"></i>
                    </div>
                    <div class="activity-info">
                      <p>
                        <strong>Mike Chen's</strong> birthday was celebrated
                      </p>
                      <span class="activity-time">1 day ago</span>
                    </div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-icon">
                      <i class="fas fa-edit"></i>
                    </div>
                    <div class="activity-info">
                      <p>
                        Updated <strong>Emma Wilson's</strong> birthday info
                      </p>
                      <span class="activity-time">3 days ago</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="dashboard-card">
              <div class="card-header">
                <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
              </div>
              <div class="card-content">
                <div class="quick-actions-grid">
                  <button class="quick-action-btn" onclick="addNewMember()">
                    <i class="fas fa-user-plus"></i>
                    <span>Add Member</span>
                  </button>
                  <button class="quick-action-btn" onclick="sendReminders()">
                    <i class="fas fa-bell"></i>
                    <span>Send Reminders</span>
                  </button>
                  <button class="quick-action-btn" onclick="exportData()">
                    <i class="fas fa-download"></i>
                    <span>Export Data</span>
                  </button>
                  <button class="quick-action-btn" onclick="manageSettings()">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Settings Panel -->
            <div class="dashboard-card settings-card">
              <div class="card-header">
                <h3><i class="fas fa-cog"></i> Account Settings</h3>
              </div>
              <div class="card-content">
                <div class="settings-list">
                  <div class="setting-item">
                    <div class="setting-info">
                      <h4>Email Notifications</h4>
                      <p>Receive email alerts for birthdays</p>
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" checked />
                      <span class="slider"></span>
                    </label>
                  </div>
                  <div class="setting-item">
                    <div class="setting-info">
                      <h4>SMS Reminders</h4>
                      <p>Get SMS notifications for upcoming birthdays</p>
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" />
                      <span class="slider"></span>
                    </label>
                  </div>
                  <div class="setting-item">
                    <div class="setting-info">
                      <h4>Auto Celebrations</h4>
                      <p>Automatically post birthday wishes</p>
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" checked />
                      <span class="slider"></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
<!-- Add Birthday Modal (existing, no changes needed for this request) -->
<div class="modal" id="addBirthdayModal">
    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
        <div class="message {{ message.tags }}">
            <i class="message-icon fas fa- {{ message.tags }}"></i>
            <div class="message-text">{{ message }}</div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-plus-circle"></i> Add Birthday</h3>
            <button class="close-btn" onclick="closeModal('addBirthdayModal')">&times;</button>
        </div>
        <form method="POST" id="birthday_form" class="birthday-form" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- Get community user name -->
            <input type="hidden" name="community_user_name" id="community_user_name"
                value="{{request.user.username}}">
            <div class="form-group">
                <label for="personName">Name</label>
                <input type="text" name="personName" id="personName" placeholder="Enter full name" required>
            </div>
            <div class="form-group">
                <label for="Image">Input a clear Birthday Picture</label>
                <input type="file" accept="image/*" name="personImage" id="personImage" required>
            </div>
            <div class="form-group">
                <label for="birthDate">Birthday</label>
                <input type="date" name="birthDate" id="birthDate" required>
            </div>
            <div class="form-group">
                <label for="phoneNumber">WhatsApp no.</label>
                <input type="number" name="phoneNumber" id="phoneNumber" placeholder="Enter WhatsApp no." required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" name="email" id="email" placeholder="Enter Email" required>
            </div>
            <div class="form-group">
                <label for="matric">Matric no.</label>
                <input type="text" name="matric" id="matric" placeholder="Enter Matric no" required>
            </div>
            <div class="form-group">
                <label for="department">Department</label>
                <input type="text" name="department" id="department" placeholder="Enter Department" required>
            </div>
            <div class="form-group">
                <label for="level">Level</label>
                <input type="number" name="level" id="level" placeholder="Enter Level" required>
            </div>
            <div class="form-group">
                <label for="gender">Gender</label>
                <select name="gender" id="gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            <div class="form-group">
                <label for="trainClassLevel">Level in Training Clas</label>
                <select name="trainingLevel" id="trainingLevel">
                    <option value="baptisimal">Baptisimal</option>
                    <option value="believers">Believers</option>
                    <option value="workers-in-training">Workers In Training</option>
                    <option value="completed">Completed</option>
                </select>
            </div>
            <div class="form-group">
                <label for="reminderDays">Remind me</label>
                <select name="reminderDays" id="reminderDays">
                    <option value="1">1 day before</option>
                    <option value="3">3 days before</option>
                    <option value="7">1 week before</option>
                </select>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal('addBirthdayModal')">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Birthday</button>
            </div>
        </form>
    </div>
</div>

<main>
   <!-- Personal Information Section -->
<section class="personal-info-section">
    <div class="container">
        <div class="section-header">
            <h2><i class="fas fa-user"></i> Personal Information</h2>
            {% comment %} <button class="btn btn-primary" onclick="openEditProfileModal()">
                <i class="fas fa-edit"></i>
                Edit Information
            </button> {% endcomment %}
        </div>
        <div class="info-grid">
            <div class="info-card">
                <div class="info-item">
                    <label>Full Name</label>
                    <span id="fullName">{{ adminProfile.user|default:"N/A" }}</span>
                </div>
                <div class="info-item">
                    <label>Email Address</label>
                    <span id="emailAddress">{{ adminProfile.email|default:"N/A" }}</span>
                </div>
                <div class="info-item">
                    <label>Phone Number</label>
                    <span id="phoneNumber">{{ adminProfile.phone_number|default:"N/A" }}</span>
                </div>
            </div>
            <div class="info-card">
                <div class="info-item">
                    <label>Birthday</label>
                    <span id="birthday">{{ adminProfile.birthday|date:"F d, Y"|default:"N/A" }}</span>
                </div>
                 
                 
            </div>
        </div>
    </div>
</section>
</main>

<!-- Edit Profile Modal -->
<div class="modal" id="editProfileModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-edit"></i> Edit Profile</h3>
            <button class="close-btn" onclick="closeModal('editProfileModal')">&times;</button>
        </div>
        <form class="edit-form" id="editProfileForm" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <label for="editImage">Profile Image</label>
                <input
                    type="file"
                    id="editImage"
                    name="profile_image"
                    required
                />
            </div>

            <div class="form-group">
                <label for="editFullName">Full Name</label>
                <input
                    type="text"
                    id="editFullName"
                    name="community_name"
                    value="{{ admin_profile.full_name|default:"" }}"
                    required
                />
            </div>

            <div class="form-group">
                <label for="editPhone">Phone Number</label>
                <input
                    type="tel"
                    id="editPhone"
                    name="phoneNumber"
                    value="{{ admin_profile.phone_number|default:"" }}"
                    required
                />
            </div>

            <div class="form-group">
                <label for="editBirthday">Birthday</label>
                <input
                    type="date"
                    id="editBirthday"
                    name="birthday"
                    value="{{ admin_profile.birthday|date:"Y-m-d"|default:"" }}"
                    required
                />
            </div>

            <div class="form-actions">
                <button
                    type="button"
                    class="btn btn-secondary"
                    onclick="closeModal('editProfileModal')"
                >
                    Cancel
                </button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>
    </div>
</div>




    <script src="{% static 'assets/js/tippy.all.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'assets/js/uikit.js' %}"></script>
    <script src="{% static 'assets/js/simplebar.js' %}"></script>
    <script src="{% static 'assets/js/custom.js' %}"></script>

    <script src="{% static 'adminProfile.js' %}"></script>
    <script src="{% static 'editAdminProfile.js' %}"></script>
  </body>
</html>
